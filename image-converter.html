<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AxionX Image Converter</title>

    <style>
        :root {
            --bg: #0b0f17;
            --panel: #111827;
            --card: #0f172a;
            --border: rgba(255, 255, 255, .08);
            --text: #e5e7eb;
            --muted: #94a3b8;
            --accent: #ed3a3a;
            --shadow: 0 18px 50px rgba(0, 0, 0, .45);
            --radius: 18px;
            --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            font-family: var(--sans);
            background:
                radial-gradient(900px 500px at 10% 0%, rgba(237, 58, 58, .25), transparent 60%),
                radial-gradient(700px 420px at 90% 20%, rgba(248, 56, 56, .18), transparent 55%),
                var(--bg);
            color: var(--text);
            min-height: 100vh;
        }

        header {
            max-width: 1200px;
            margin: auto;
            padding: 28px 18px 6px;
        }

        header h1 {
            margin: 0;
            font-size: 20px
        }

        header p {
            margin: 8px 0 0;
            color: var(--muted);
            font-size: 13px
        }

        .wrap {
            max-width: 1200px;
            margin: auto;
            padding: 16px 18px 26px;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .panel {
            background: linear-gradient(180deg, rgba(255, 255, 255, .03), transparent 45%), var(--panel);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .panel .top {
            padding: 14px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .badge {
            font-size: 12px;
            color: var(--muted)
        }

        .content {
            padding: 14px
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .field {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 10px;
        }

        .field label {
            display: block;
            font-size: 12px;
            color: var(--muted);
            margin-bottom: 8px;
        }

        .row {
            display: flex;
            gap: 10px;
            align-items: center
        }

        input,
        select {
            width: 100%;
            background: rgba(255, 255, 255, .04);
            border: 1px solid rgba(255, 255, 255, .10);
            color: var(--text);
            border-radius: 12px;
            padding: 10px;
            font-size: 12px;
        }

        .mini {
            font-size: 11px;
            color: var(--muted);
            margin-top: 6px
        }

        .btnrow {
            display: flex;
            gap: 8px;
            flex-wrap: wrap
        }

        button {
            border: 1px solid rgba(255, 255, 255, .10);
            background: rgba(255, 255, 255, .04);
            color: var(--text);
            padding: 9px 12px;
            font-size: 12px;
            border-radius: 12px;
            cursor: pointer;
        }

        button:hover {
            background: rgba(255, 255, 255, .07)
        }

        .previewPanel {
            background: linear-gradient(180deg, rgba(255, 255, 255, .03), transparent 45%), var(--panel);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .stage {
            padding: 16px;
            display: grid;
            place-items: center;
            min-height: 420px;
            background:
                linear-gradient(90deg, rgba(255, 255, 255, .03) 1px, transparent 1px) 0 0/26px 26px,
                linear-gradient(rgba(255, 255, 255, .03) 1px, transparent 1px) 0 0/26px 26px,
                #0a0f18;
        }

        canvas {
            max-width: 100%;
            border-radius: 18px;
            box-shadow: 0 18px 60px rgba(0, 0, 0, .55);
        }

        select {
            background: #111827;
            color: #e5e7eb;
            border: 1px solid rgba(255, 255, 255, .1);
            border-radius: 12px;
            padding: 10px 12px;
            font-size: 12px;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }

        select option {
            background-color: #0f172a;
            color: #bdbdbd;
        }

        select option:checked {
            background-color: #0f172a;
            color: #ffffff;
        }

        @media(max-width:900px) {
            .grid {
                grid-template-columns: 1fr
            }
        }
    </style>
</head>

<body>

    <header>
        <h1>AxionX Image Converter</h1>
        <p>Upload an image, change format, resize, and export.</p>
    </header>

    <div class="wrap">

        <section class="panel">
            <div class="top">
                <div class="badge">Image Settings</div>
            </div>

            <div class="content">
                <div class="grid">

                    <div class="field" style="grid-column:1/-1">
                        <label>Upload Image</label>
                        <input id="file" type="file" accept="image/*">
                    </div>

                    <div class="field">
                        <label>Output Format</label>
                        <select id="format">
                            <option value="image/png">PNG</option>
                            <option value="image/jpeg">JPG</option>
                            <option value="image/webp">WEBP</option>
                        </select>
                    </div>

                    <div class="field">
                        <label>Quality (JPG / WEBP)</label>
                        <input id="quality" type="number" min="0.1" max="1" step="0.05" value="0.9">
                    </div>

                    <div class="field">
                        <label>Resize Width</label>
                        <input id="width" type="number" placeholder="Auto">
                    </div>

                    <div class="field">
                        <label>Resize Height</label>
                        <input id="height" type="number" placeholder="Auto">
                    </div>

                </div>
            </div>
        </section>

        <section class="previewPanel">
            <div class="stage">
                <canvas id="canvas"></canvas>
            </div>

            <div class="content">
                <div class="btnrow">
                    <button id="download">Download Image</button>
                </div>
                <div class="mini">PNG keeps transparency. JPG removes alpha.</div>
            </div>
        </section>

    </div>

    <script>
        const $ = id => document.getElementById(id);

        const canvas = $("canvas");
        const ctx = canvas.getContext("2d");

        let img = new Image();
        let imgURL = null;

        function draw() {
            if (!img.complete || !img.naturalWidth) return;

            const w = Number($("width").value) || img.naturalWidth;
            const h = Number($("height").value) || img.naturalHeight;

            canvas.width = w;
            canvas.height = h;

            ctx.clearRect(0, 0, w, h);
            ctx.drawImage(img, 0, 0, w, h);
        }

        $("file").addEventListener("change", e => {
            const file = e.target.files[0];
            if (!file) return;

            if (imgURL) URL.revokeObjectURL(imgURL);
            imgURL = URL.createObjectURL(file);

            img = new Image();
            img.onload = () => {
                draw();
            };
            img.onerror = () => {
                console.error("Failed to load image");
            };
            img.src = imgURL;
        });

        ["width", "height"].forEach(id => {
            $(id).addEventListener("input", draw);
        });

        $("download").addEventListener("click", () => {
            if (!canvas.width || !canvas.height) return;

            const type = $("format").value;
            const quality = parseFloat($("quality").value) || 0.9;

            canvas.toBlob(blob => {
                if (!blob) return;

                const a = document.createElement("a");
                a.href = URL.createObjectURL(blob);
                a.download = `image.${type.split("/")[1]}`;
                document.body.appendChild(a);
                a.click();
                a.remove();
            }, type, quality);
        });
    </script>

</body>

</html>